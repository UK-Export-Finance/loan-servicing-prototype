{% extends "index.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/date-input/macro.njk" import govukDateInput %}
{% from "govuk/components/select/macro.njk" import govukSelect %}

{% block pageTitle -%}
  Create New Facility
{%- endblock %}

{% block content %}
  <h1 class="govuk-heading-l">Create New Facility</h1>

  <p class="govuk-body govuk-!-margin-bottom-6">Add a new facility to the loan servicing system</p>

  <form action="/facility" method="post">
    {{ govukSelect({
      id: "facilityType",
      name: "facilityType",
      label: {
        text: "Facility Type"
      },
      items: facilityTypes
    }) }}

    {{ govukSelect({
      id: "calculateInterestStrategy",
      name: "calculateInterestStrategy",
      label: {
        text: "Interest Calculation Method"
      },
      value: facilityType.calculateInterestStrategy,
      items: [
        {
          value: "NoInterest",
          text: "Interest Free"
        },
        {
          value: "PrincipalOnly",
          text: "On Principal Only"
        },
        {
          value: "Compounding",
          text: "Compounding"
        }
      ]
    }) }}

    {{ govukInput({
      label: {
        text: "Obligor ID"
      },
      classes: "govuk-input--width-20",
      id: "obligor",
      name: "obligor"
    }) }}

    {{ govukInput({
      label: {
        text: "Facility Amount"
      },
      id: "facilityAmount",
      name: "facilityAmount"
    }) }}

    {{ govukInput({
      label: {
        text: "Interest Rate"
      },
      classes: "govuk-input--width-20",
      id: "interestRate",
      name: "interestRate"
    }) }}

    {{ govukDateInput({
        id: "issuedEffectiveDate",
        namePrefix: "issuedEffectiveDate",
        fieldset: {
          legend: {
            text: "Effective date of facility"
          }
        }
      }) }}

      {{ govukDateInput({
        id: "expiryDate",
        namePrefix: "expiryDate",
        fieldset: {
          legend: {
            text: "Expirty date of facility"
          }
        }
      }) }}

    {{ govukButton({  text: "Create Facility"}) }}
  </form>

{% endblock %}