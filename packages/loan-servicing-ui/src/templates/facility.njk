{% extends "index.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% block pageTitle -%}
  Facility
  {{ facility.streamId }}
{%- endblock %}

{% block content %}
  {% if facilityCreated %}
    {% set html %}
    <p class="govuk-notification-banner__heading">
      Facility created successfully
    </p>
    {% endset %}

    {{ govukNotificationBanner({
      html: html,
      type: 'success'
    }) }}
  {% endif %}
  <h1 class="govuk-heading-l">Facility
    {{ facility.streamId }}</h1>
  <p class="govuk-body govuk-!-margin-bottom-6">Obligor:
    {{facility.obligor}}</p>
  <p class="govuk-body govuk-!-margin-bottom-6">Facility Amount:
    {{facility.facilityAmount}}</p>
  <p class="govuk-body govuk-!-margin-bottom-6">Interest Rate:
    {{facility.interestRate}}</p>

  {{ govukTable({
  caption: "Event History",
  captionClasses: "govuk-table__caption--m",
  firstCellIsHeader: true,
  head: [
    {
      text: "Action"
    },
    {
      text: "Changes"
    }
  ],
  rows: eventRows
}) }}

{% endblock %}